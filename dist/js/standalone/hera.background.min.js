/*!
 * hera.background.js v2.0.0
 * https://github.com/crewstyle/OlympusHera
 *
 * This plugin changes background attributes. Note that the background image
 * is set thanks to the Upload tto.upload.js plugin.
 *
 * Example of JS:
 *      $('.background').heraBackground({
 *          color: 'input[name="color"]',               //item node to set background color
 *          position: 'input[type="radio"]',            //item node to set background position
 *          preview: 'figure',                          //item node containing backgroud preview
 *          repeat: 'select[name="position"]',          //item node to set background repeat
 *      });
 * 
 * Example of HTML:
 *      <div class="background">
 *          <figure></figure>
 *          <fieldset>
 *              <label><input type="text" name="color" value="#000000" /></label>
 *              <select name="position">
 *                  <option value="left top">Left top</option>
 *                  <option value="center top">Center top</option>
 *                  <option value="right top">Right top</option>
 *              </select>
 *              <p>
 *                  <input type="radio" name="repeat" value="no-repeat"/> No repeat
 *                  <input type="radio" name="repeat" value="repeat-x"/> Repeat horizontally
 *                  <input type="radio" name="repeat" value="repeat-y"/> Repeat vertically
 *                  <input type="radio" name="repeat" value="repeat"/> Repeat all the way around
 *              </p>
 *              <p>
 *                  <input type="radio" name="size" value="auto"/> Default value
 *                  <input type="radio" name="size" value="cover"/> As large as possible
 *                  <input type="radio" name="size" value="contain"/> Width and height fit in the content area
 *              </p>
 *          </fieldset>
 *      </div>
 *
 * Copyright 2016 Achraf Chouk
 * Achraf Chouk (https://github.com/crewstyle)
 */
!function(a){"use strict";var b=function(b,c){var d=this;d.$el=b,d.options=c,d.$color=d.$el.find(d.options.color),d.$position=d.$el.find(d.options.position),d.$repeat=d.$el.find(d.options.repeat),d.$size=d.$el.find(d.options.size),d.$preview=d.$el.find(d.options.preview),d.$color.heraColor({afterchange:function(a){d.$preview.css({backgroundColor:a})}}),d.$position.on("change",a.proxy(d.update_background,d)),d.$repeat.on("change",a.proxy(d.update_background,d)),d.$size.on("change",a.proxy(d.update_background,d))};b.prototype.$color=null,b.prototype.$el=null,b.prototype.$preview=null,b.prototype.$position=null,b.prototype.$repeat=null,b.prototype.$size=null,b.prototype.options=null,b.prototype.update_background=function(a){a.preventDefault();var b=this;b.$preview.css({backgroundPosition:b.$position.filter(":checked").val(),backgroundRepeat:b.$repeat.val(),backgroundSize:b.$size.filter(":checked").val()})};var c={init:function(c){if(!this.length)return!1;var d={color:".bg-color input",position:".bg-position input",preview:".bg-preview",repeat:".bg-repeat select",size:".bg-size input"};return this.each(function(){c&&a.extend(d,c),new b(a(this),d)})},update:function(){},destroy:function(){}};a.fn.heraBackground=function(b){return c[b]?c[b].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof b&&b?(a.error("Method "+b+" does not exist on heraBackground"),!1):c.init.apply(this,arguments)}}(window.jQuery);