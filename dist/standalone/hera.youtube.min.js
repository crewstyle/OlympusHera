/*!
 * hera.youtube.js v2.0.0
 * https://github.com/crewstyle/OlympusHera
 *
 * This plugin adds a Youtube integration into container.
 *
 * Example of JS:
 *      $('.yt-container').heraYoutube({
 *          url: 'https://www.youtube.com/watch?v=vNy344PbYyE',                 //item node to un/check
 *          ratio: 16/9,                                                        //closest node to item to add the selected class
 *          mute: true,                                                         //make it mute
 *          repeat: true,                                                       //repetable
 *          start: 0                                                            //position in seconds before start video
 *      });
 *
 * Example of HTML:
 *      <div class="yt-container"></div>
 *
 * Copyright 2016 Achraf Chouk
 * Achraf Chouk (https://github.com/crewstyle)
 */
!function(a){"use strict";var b=function(a,b){var c=this;c.$el=a,c.options=b,c.options.width=c.$el.width(),c.options.height=Math.ceil(c.options.width/c.options.ratio);var d=/^.*((youtu.be\/)|(v\/)|(\/u\/\w\/)|(embed\/)|(watch\?))\??v?=?([^#\&\?]*).*/,e=c.options.url.match(d);return e&&11==e[7].length?(c.options.video=e[7],void c.init()):!1};b.prototype.$el=null,b.prototype.$wind=a(window),b.prototype.options=null,b.prototype.init=function(){var a=this,b=document.createElement("script");b.src="//www.youtube.com/iframe_api";var c=document.getElementsByTagName("script")[0];c.parentNode.insertBefore(b,c),a.youtube()},b.prototype.youtube=function(){var b=this,c=a(document.createElement("div")).css({position:"relative",zIndex:"3"}).html(b.$el.html()),d=a(document.createElement("div")).addClass("yt-container").css({bottom:"0",left:"0",overflow:"hidden",position:"fixed",right:"0",top:"0",zIndex:"1"}).html('<div id="yt-player"></div>'),e=a(document.createElement("div")).addClass("yt-stripes").css({bottom:"0",left:"0",overflow:"hidden",position:"fixed",right:"0",top:"0",zIndex:"2"});b.$el.html(""),b.$el.prepend(c),b.$el.prepend(e),b.$el.prepend(d),b.$wind.bind("resize",a.proxy(b.ytResize,b)),window.onYouTubeIframeAPIReady=function(){window.player=new YT.Player("yt-player",{width:b.options.width,height:b.options.height,videoId:b.options.video,playerVars:{controls:0,showinfo:0,modestbranding:1,wmode:"transparent"},events:{onReady:ytReady,onStateChange:ytChange}})},window.ytChange=function(a){var b=this;0===a.data&&b.options.repeat&&window.player.seekTo(b.options.start)},window.ytReady=function(a){var b=this;b.options.mute&&a.target.mute(),a.target.seekTo(b.options.start),a.target.playVideo()}},b.prototype.ytResize=function(a){var b=this;b.options.width=b.$el.width(),b.options.height=Math.ceil(b.options.width/b.options.ratio),b.$el.find(".yt-container iframe").width(b.options.width).height(b.options.height)};var c={init:function(c){if(!this.length)return!1;var d={url:"https://www.youtube.com/watch?v=vNy344PbYyE",ratio:16/9,mute:!0,repeat:!0,start:0};return this.each(function(){c&&a.extend(d,c),new b(a(this),d)})},update:function(){},destroy:function(){}};a.fn.heraYoutube=function(b){return c[b]?c[b].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof b&&b?(a.error("Method "+b+" does not exist on heraYoutube"),!1):c.init.apply(this,arguments)}}(window.jQuery);